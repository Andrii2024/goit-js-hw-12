{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Додатковий імпорт стилів\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport axios from 'axios';\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionPosition: 'bottom',\n  captionDelay: 250,\n  captionsData: 'alt',\n  captions: true,\n});\n\nlet searchQuery = '';\n\nform.addEventListener('submit', onSabmit);\nfunction onSabmit(e) {\n  e.preventDefault();\n  searchQuery = e.target.elements.search.value.trim();\n  if (searchQuery) {\n    clearGallery();\n    showLoader();\n    searchImages(searchQuery);\n  }\n  e.target.reset();\n}\n\nfunction searchImages(q) {\n  const API_KEY = '42003708-c000c9a8ce48958e4d2fbd571';\n  const PARAMS = new URLSearchParams({\n    key: API_KEY,\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const BAS_EURL = 'https://pixabay.com/api';\n  const url = `${BAS_EURL}/?${PARAMS}`;\n\n  return fetch(url)\n    .then(response => response.json())\n    .then(data => {\n      hideLoader();\n      if (data.hits.length > 0) {\n        displayImages(data.hits);\n      } else {\n        showNoResultsMessage();\n      }\n    })\n    .catch(error => {\n      console.error('Error fetching images:', error);\n      hideLoader();\n      showErrorMessage();\n    });\n}\n\nfunction displayImages(images) {\n  const fragment = document.createDocumentFragment();\n\n  const limitedImages = images.slice(0, 9);\n\n  limitedImages.forEach(image => {\n    const card = createImageCard(image);\n    fragment.appendChild(card);\n  });\n\n  gallery.appendChild(fragment);\n\n  lightbox.refresh();\n}\n\nfunction createImageCard(image) {\n  const card = document.createElement('div');\n  card.classList.add('card');\n\n  const link = document.createElement('a');\n  link.classList.add('gallery-link');\n  link.href = image.largeImageURL;\n\n  const img = document.createElement('img');\n  img.classList.add('img-pixaby');\n  img.src = image.webformatURL;\n  img.alt = image.tags;\n\n  const listCom = document.createElement('ul');\n  listCom.classList.add('comments');\n\n  const likesItem = document.createElement('li');\n  likesItem.classList.add('list-item-com');\n  likesItem.textContent = `Likes: ${image.likes}`;\n  listCom.appendChild(likesItem);\n\n  const viewsItem = document.createElement('li');\n  viewsItem.classList.add('list-item-com');\n  viewsItem.textContent = `Views: ${image.views}`;\n  listCom.appendChild(viewsItem);\n\n  const commentsItem = document.createElement('li');\n  commentsItem.classList.add('list-item-com');\n  commentsItem.textContent = `Comments: ${image.comments}`;\n  listCom.appendChild(commentsItem);\n\n  const downloadsItem = document.createElement('li');\n  downloadsItem.classList.add('list-item-com');\n  downloadsItem.textContent = `Downloads: ${image.downloads}`;\n  listCom.appendChild(downloadsItem);\n\n  link.appendChild(img);\n  card.appendChild(listCom);\n  card.appendChild(link);\n\n  return card;\n}\n\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\n\nfunction showLoader() {\n  loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n\nfunction showNoResultsMessage() {\n  iziToast.info({\n    title: 'Info',\n    position: 'topRight',\n    color: 'green',\n    message:\n      'Sorry, there are no images matching your search query. Please try again.',\n  });\n}\n\nfunction showErrorMessage() {\n  iziToast.error({\n    title: 'Error',\n    position: 'topRight',\n    color: 'red',\n    message: 'Something went wrong. Please try again later.',\n  });\n}\n"],"names":["form","gallery","loader","lightbox","SimpleLightbox","searchQuery","onSabmit","e","clearGallery","showLoader","searchImages","q","API_KEY","url","response","data","hideLoader","displayImages","showNoResultsMessage","error","showErrorMessage","images","fragment","image","card","createImageCard","link","img","listCom","likesItem","viewsItem","commentsItem","downloadsItem","iziToast"],"mappings":"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"}